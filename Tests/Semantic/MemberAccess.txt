class TestClass is
    var publicInt : 12
    var publicBool : true
    var publicReal : 1.2

    method modifyFromInside(newVal: Integer) is
        this.publicInt := newVal // This should be ALLOWED
    end

    method getIntPlusOne : Integer is
        return this.publicInt.Plus(1) // Read access
    end

end


class TestReadAccess is
    this is
        var obj : TestClass()

        //SHOULD BE ALLOWED
        var x : obj.publicInt    // Integer
        var y : obj.publicBool   // Boolean
        var z : obj.publicReal   // Real 
        var a : obj.getIntPlusOne() // Method
        //SHOULD BE ALLOWED
    end
end


class TestReadAccess is
    this is
        var obj : TestClass()

        obj.publicInt := 1 // ERROR: assigning a member outside the class
        obj.publicBool := true // ERROR: assigning a member outside the class (same value)
        obj.publicReal := obj.publicReal.Mult(2.0) // ERROR: assignment is forbidden
    end
end


class DerivedClass extends TestClass is
    method testDerivedAccess is
        var baseValue : this.publicInt // ALLOWED
        this.publicInt := baseValue.Plus(100) // ALLOWED
    end
end

class UnrelatedClass is
    this is
        var obj : TestClass()
        var derivedObj : DerivedClass()

        var value : obj.publicInt // ALLOWED
        obj.publicInt := 1 // ERROR: Cannot write from unrelated class
        derivedObj.publicInt := 1 // ERROR: Cannot write from unrelated class
    end
end